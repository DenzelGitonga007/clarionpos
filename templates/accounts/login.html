{% extends "layouts/base.html" %}

{% block title %} Login {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<!-- The messages -->
{% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  {% endfor %}
{% endif %}

<!-- To let the message disappear after a few seconds -->
<script>
  setTimeout(function() {
      $('.alert').fadeOut('slow');
  }, 3000);
</script>

  <div class="row">
    <div class="col-md-5">
      <div class="card">
        <div class="card-header card-header-primary">
          <h4 class="card-title">
            Login
          </h4>
        </div>
        <div class="card-body">

          <h6 class="card-category">
              {% if msg %}
                <span class="text-danger">{{ msg | safe }}</span>
              {% else %}
                  Enter your credentials
              {% endif %}  
          </h6>
          
          <br />

          <form role="form" method="post" action="">
              
            {% csrf_token %}
            {% if form.errors %}
            <div class="alert alert-danger"> 
                {% for error in form.errors %}
                    <strong>Invalid username or password</strong><br>Please try again
                {% endfor %}  
            </div>
            {% endif %} 

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="id_username" class="bmd-label-floating">Username</label>
                  <input type="text" class="form-control" name="username" maxlength="100" placeholder="" required="" id="id_username" value="{{ form.username.value|default:'' }}">
                </div>
              </div>
            </div>

            <br />

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="id_password" class="bmd-label-floating">Password</label>
                  <input type="password" class="form-control" name="password" placeholder="" autocomplete="new-password" required="" id="id_password">
                </div>
              </div>
            </div>
            <input type="hidden" name="next" value="">
            <br />

            <button type="submit" name="login" class="btn btn-block btn-primary pull-left">Login</button>

            &nbsp; &nbsp; 
            <span class="pull-right">
              Don't have an account? <p class="text-primary">Ask the admin to create one for you</p>
            </span>

            <div class="clearfix"></div>

          </form>
        </div>
      </div>
    </div>
  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
